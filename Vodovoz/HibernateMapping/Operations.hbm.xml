<?xml version="1.0" encoding="UTF-8" ?>
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"
 auto-import="true" assembly="Vodovoz" namespace="Vodovoz.Domain">

  	<class name="Vodovoz.Domain.Operations.DepositOperation" lazy="false" table="deposit_operations">
		<id name="Id" column="id">
 			<generator class="native"></generator>
 		</id>
 		<property name="OperationTime" column="operation_time"/>
 		<property name="DepositType" column="deposit_type" type="Vodovoz.Domain.Operations.DepositTypeStringType, Vodovoz"/>
		<property name="ReceivedDeposit" column="received_deposit"/>
		<property name="RefundDeposit" column="refund_deposit"/>
		<many-to-one name="Order" class="Order" column="order_id"/>
		<many-to-one name="Counterparty" class="Counterparty" column="counterparty_id"/>
		<many-to-one name="DeliveryPoint" class="DeliveryPoint" column="delivery_point_id"/>
		<many-to-one name="OrderItem" class="OrderItem" column="order_item_id"/>
	</class>

	<class name="Vodovoz.Domain.Operations.BottlesMovementOperation" lazy="false" table="bottles_movement_operations">
		<id name="Id" column="id">
 			<generator class="native"></generator>
 		</id>
 		<property name="OperationTime" column="operation_time"/>
 		<property name="MovedTo" column="moved_to"/>
		<property name="MovedFrom" column="moved_from"/>
		<many-to-one name="Order" class="Order" column="order_id"/>
		<many-to-one name="Counterparty" class="Counterparty" column="counterparty_id"/>
		<many-to-one name="DeliveryPoint" class="DeliveryPoint" column="delivery_point_id"/>
		<many-to-one name="OrderItem" class="OrderItem" column="order_item_id"/>
	</class>

	<class name="Vodovoz.Domain.Operations.GoodsMovementOperation" lazy="false" table="goods_movement_operations">
		<id name="Id" column="id">
 			<generator class="native"></generator>
 		</id>
 		<property name="OperationTime" column="operation_time"/>
 		<property name="Amount" column="amount"/>
		<many-to-one name="Order" class="Order" column="order_id"/>
		<many-to-one name="WriteoffWarehouse" class="Warehouse" column="writeoff_warehouse_id"/>
		<many-to-one name="IncomingWarehouse" class="Warehouse" column="incoming_warehouse_id"/>
		<many-to-one name="WriteoffCounterparty" class="Counterparty" column="writeoff_counterparty_id"/>
		<many-to-one name="IncomingCounterparty" class="Counterparty" column="incoming_counterparty_id"/>
		<many-to-one name="WriteoffDeliveryPoint" class="DeliveryPoint" column="writeoff_delivery_point_id"/>
		<many-to-one name="IncomingDeliveryPoint" class="DeliveryPoint" column="incoming_delivery_point_id"/>
	</class>

	<class name="Vodovoz.Domain.Operations.MoneyMovementOperation" lazy="false" table="money_movement_operations">
		<id name="Id" column="id">
 			<generator class="native"></generator>
 		</id>
 		<property name="OperationTime" column="operation_time"/>
 		<property name="Debt" column="debt"/>
		<property name="Money" column="money"/>
		<property name="Deposit" column="deposit"/>
		<property name="DepositType" column="deposit_type" type="Vodovoz.Domain.Operations.DepositTypeStringType, Vodovoz"/>
		<property name="PaymentType" column="payment_type" type="Vodovoz.Domain.Operations.PaymentTypeStringType, Vodovoz"/>
		<many-to-one name="Order" class="Order" column="order_id"/>
		<many-to-one name="Counterparty" class="Counterparty" column="counterparty_id"/>
		<many-to-one name="DeliveryPoint" class="DeliveryPoint" column="delivery_point_id"/>
		<many-to-one name="OrderItem" class="OrderItem" column="order_item_id"/>
	</class>
</hibernate-mapping>