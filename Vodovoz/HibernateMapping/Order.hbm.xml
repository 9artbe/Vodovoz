<?xml version="1.0" encoding="UTF-8" ?>
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"
 auto-import="true" assembly="Vodovoz" namespace="Vodovoz.Domain">
 	<class name="Vodovoz.Domain.Orders.OrderDepositRefundItem" lazy="false" table="order_deposit_refund_items">
		<id name="Id" column="id">
 			<generator class="native"></generator>
 		</id>
 		<property name="RefundDeposit" column="refund_deposit"/>
 		<property name="DepositType" column="deposit_type" type="Vodovoz.Domain.Operations.DepositTypeStringType, Vodovoz"/>
		<many-to-one name="Order" class="Vodovoz.Domain.Orders.Order" column="order_id"/>
 		<many-to-one name="DepositOperation" class="Vodovoz.Domain.Operations.DepositOperation" column="deposit_operation_id"/>
 		<many-to-one name="PaidRentItem" class="PaidRentEquipment" column="paid_rent_equipment_id"/>
 		<many-to-one name="FreeRentItem" class="FreeRentEquipment" column="free_rent_equipment_id"/>
	</class>

	<class name="Vodovoz.Domain.Orders.OrderDocument" lazy="false" table="order_documents">
		<id name="Id" column="id">
 			<generator class="native"></generator>
 		</id>
		<discriminator column="type" type="String"/>
		<many-to-one name="Order" class="Vodovoz.Domain.Orders.Order" column="order_id" />
		<subclass name="Vodovoz.Domain.Orders.OrderAgreement" discriminator-value="order_agreement">
			<many-to-one name="AdditionalAgreement" class="AdditionalAgreement" column="agreement_id" />
        </subclass>
        <subclass name="Vodovoz.Domain.Orders.OrderContract" discriminator-value="order_contract">
			<many-to-one name="Contract" class="CounterpartyContract" column="contract_id" />
        </subclass>
	</class>
</hibernate-mapping>